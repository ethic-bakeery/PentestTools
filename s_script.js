const users = [];

function login() {
    const username = document.getElementById("username").value;
    const password = document.getElementById("password").value;

    const user = users.find(u => u.username === username && u.password === password);

    if (user) {
        // Redirect to the tool command storage page
        window.location.href = "index.html";
    } else {
        const errorMessage = document.getElementById("error-message");
        errorMessage.innerText = "Invalid username or password. Please try again.";
        errorMessage.classList.remove("hidden");
    }
}

function signup() {
    const newUsername = document.getElementById("newUsername").value;
    const newPassword = document.getElementById("newPassword").value;

    // Check if the username is already taken
    const existingUser = users.find(u => u.username === newUsername);
    if (existingUser) {
        const errorMessage = document.getElementById("error-message");
        errorMessage.innerText = "Username already taken. Please choose a different username.";
        errorMessage.classList.remove("hidden");
    } else {
        // Add the new user
        users.push({ username: newUsername, password: newPassword });
        alert("Account created successfully! You can now log in.");
        // Redirect to the login page
        window.location.href = "login.html";
    }
}

